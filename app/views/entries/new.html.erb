<!-- app/views/entries/new.html.erb -->
<h1>New Entry for <%= @place.name %></h1>

<div class="container">
  <%= form_with model: @entry, local: true, html: { multipart: true }, url: place_entries_path(@place) do |form| %> <!-- Explicitly set the path -->
    <!-- Hidden field for place_id -->
    <%= form.hidden_field :place_id, value: @place.id %> <!-- Use @place.id instead of params[:place_id] -->

    <!-- Title input -->
    <div class="mb-3">
      <%= form.label :title, class: "form-label" %>
      <%= form.text_field :title, class: "form-control", required: true %>
    </div>

    <!-- Description input -->
    <div class="mb-3">
      <%= form.label :description, class: "form-label" %>
      <%= form.text_area :description, class: "form-control", required: true %>
    </div>

    <!-- Occurred On input -->
    <div class="mb-3">
      <%= form.label :occurred_on, class: "form-label" %>
      <%= form.date_select :occurred_on, class: "form-control", required: true %>
    </div>

    <!-- Image input (Optional) -->
    <div class="mb-3">
      <%= form.label :image, class: "form-label" %>
      <%= form.file_field :image, class: "form-control" %>
    </div>

    <!-- Submit button -->
    <div class="mb-3">
      <%= form.submit 'Create Entry', class: "btn btn-primary" %>
    </div>
  <% end %>
</div>

<p>
  <%= link_to 'Back to Place', place_path(@place) %>
</p>
